---
name: texttoslide
description: |
  任意のテキストからMarp形式のスライド資料を作成し、さらに各スライドに対応する画像生成用プロンプトファイルを自動生成するスキル。

  【発動条件】
  - 「スライドを作成して」「スライド化して」「プレゼン資料にして」
  - 「テキストからスライド」「Marpスライド」
  - `/texttoslide` コマンド
  - テキストや要約からスライド資料＋画像生成プロンプトを作成したい場合

  【注意】
  - 画像生成そのものは `image-gen` スキルを使用すること
  - このスキルはテキスト→Marpスライド→画像生成プロンプトの変換のみを行う
version: 1.0.0
---

# Text to Slide Skill

テキストデータからMarp形式のスライド資料を作成し、各スライドに対応する画像生成用プロンプトファイルを出力するスキルです。

## 処理手順

このスキルは以下の3ステップで処理を行います。

### ステップ1: Marpスライドの作成

入力テキストファイル（要約md、原稿txtなど）を読み込み、Marp形式のスライド資料を作成する。

**作成ルール:**
- フォーマット: Markdown (Marp形式)
- 構成: 表紙 + 内容に応じた適切な枚数
- デザイン: defaultテーマを使用
- 出力ファイル名: `[元のファイル名]_slide.md`（入力ファイルと同じディレクトリに保存）

**Marpフォーマットの基本構造:**
```markdown
---
marp: true
theme: default
---

# 表紙タイトル

---

## スライド2タイトル

内容...

---

## スライド3タイトル

内容...
```

> **重要**: スライド区切りには `---` を使用する。frontmatterの `---` は最初のブロックのみ。

### ステップ2: プロンプト生成スクリプトの実行

ステップ1で作成したMarpスライドファイルを入力として、画像生成用プロンプトを自動生成する。

**実行コマンド:**
```bash
node "<SKILL_DIR>/scripts/marp_to_prompts.js" "<PATH_TO_SLIDE_MD>"
```

- `<SKILL_DIR>`: このスキルのディレクトリパス（`SKILL.md` があるディレクトリ）
- `<PATH_TO_SLIDE_MD>`: ステップ1で作成したスライドファイルの絶対パス

**出力先:**
```
<入力ファイルと同じディレクトリ>/prompts/YYYY-MM-DD_HH-MM-SS/
├── slide_1_<タイトル>.md
├── slide_2_<タイトル>.md
├── slide_3_<タイトル>.md
└── ...
```

各プロンプトファイルには、画像生成に必要なデザイン指示（アスペクト比16:9、2K解像度、白背景＋青アクセント、黒猫マスコット等）がテンプレートとして付与される。

### ステップ3: 確認・報告

`prompts` ディレクトリに生成されたファイル一覧を確認し、ユーザーに結果を報告する。

## 画像生成への連携

生成されたプロンプトファイルを使って実際に画像を生成する場合は、`image-gen` スキルを使用する。

```bash
node "<IMAGE_GEN_SKILL_DIR>/image_gen.js" \
  --prompt-file "<生成されたプロンプトファイル>" \
  --output "<出力先ディレクトリ>"
```

## 前提条件

- Node.js がインストールされていること（スクリプト実行に必要）
- 入力ファイルはUTF-8であること
